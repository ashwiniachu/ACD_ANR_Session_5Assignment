1. Rank the cars in terms :
•hp
•wt
•disp
•drat
•mpg

mtcars
mtcars
Newmtcar<-mtcars
library(dplyr)
Rankwise<-Newmtcar %>%
select(hp,wt,disp,drat,mpg)%>% mutate(rank_hp=rank(hp),rank_wt=rank(wt),rank_disp=rank(disp),rank_drat=rank(drat),rank_mpg=rank(mpg))
Rankwise

Rankwise
    hp    wt  disp drat  mpg rank_hp rank_wt rank_disp rank_drat
1  110 2.620 160.0 3.90 21.0    13.0     9.0      13.5      21.5
2  110 2.875 160.0 3.90 21.0    13.0    12.0      13.5      21.5
3   93 2.320 108.0 3.85 22.8     7.0     7.0       6.0      20.0
4  110 3.215 258.0 3.08 21.4    13.0    16.0      18.0       8.5
5  175 3.440 360.0 3.15 18.7    21.0    19.0      27.5      10.5
6  105 3.460 225.0 2.76 18.1    10.0    21.0      17.0       1.5
7  245 3.570 360.0 3.21 14.3    29.5    23.5      27.5      12.0
8   62 3.190 146.7 3.69 24.4     2.0    15.0      12.0      16.0
9   95 3.150 140.8 3.92 22.8     8.0    13.0      10.0      24.0
10 123 3.440 167.6 3.92 19.2    16.5    19.0      15.5      24.0
11 123 3.440 167.6 3.92 17.8    16.5    19.0      15.5      24.0
12 180 4.070 275.8 3.07 16.4    24.0    29.0      20.0       6.0
13 180 3.730 275.8 3.07 17.3    24.0    25.0      20.0       6.0
14 180 3.780 275.8 3.07 15.2    24.0    26.0      20.0       6.0
15 205 5.250 472.0 2.93 10.4    26.0    30.0      32.0       3.0
16 215 5.424 460.0 3.00 10.4    27.0    32.0      31.0       4.0
17 230 5.345 440.0 3.23 14.7    28.0    31.0      30.0      13.0
18  66 2.200  78.7 4.08 32.4     4.5     6.0       3.0      26.5
19  52 1.615  75.7 4.93 30.4     1.0     2.0       2.0      32.0
20  65 1.835  71.1 4.22 33.9     3.0     3.0       1.0      29.5
21  97 2.465 120.1 3.70 21.5     9.0     8.0       7.0      17.0
22 150 3.520 318.0 2.76 15.5    18.5    22.0      24.0       1.5
23 150 3.435 304.0 3.15 15.2    18.5    17.0      23.0      10.5
24 245 3.840 350.0 3.73 13.3    29.5    27.0      25.0      18.0
25 175 3.845 400.0 3.08 19.2    21.0    28.0      29.0       8.5
26  66 1.935  79.0 4.08 27.3     4.5     4.0       4.0      26.5
27  91 2.140 120.3 4.43 26.0     6.0     5.0       8.0      31.0
28 113 1.513  95.1 3.77 30.4    15.0     1.0       5.0      19.0
29 264 3.170 351.0 4.22 15.8    31.0    14.0      26.0      29.5
30 175 2.770 145.0 3.62 19.7    21.0    10.0      11.0      15.0
31 335 3.570 301.0 3.54 15.0    32.0    23.5      22.0      14.0
32 109 2.780 121.0 4.11 21.4    11.0    11.0       9.0      28.0
   rank_mpg
1      19.5
2      19.5
3      24.5
4      21.5
5      15.0
6      14.0
7       4.0
8      26.0
9      24.5
10     16.5
11     13.0
12     11.0
13     12.0
14      7.5
15      1.5
16      1.5
17      5.0
18     31.0
19     29.5
20     32.0
21     23.0
22      9.0
23      7.5
24      3.0
25     16.5
26     28.0
27     27.0
28     29.5
29     10.0
30     18.0
31      6.0
32     21.5

2. Rank the gear’s in terms of average mpg

library(dplyr)
rankgear<-mtcars%>%
select(mpg,gear)%>%
mutate(avgmpg=mean(mpg),rank_gear=rank(gear))

mpg gear   avgmpg rank_gear
1  21.0    4 20.09062      21.5
2  21.0    4 20.09062      21.5
3  22.8    4 20.09062      21.5
4  21.4    3 20.09062       8.0
5  18.7    3 20.09062       8.0
6  18.1    3 20.09062       8.0
7  14.3    3 20.09062       8.0
8  24.4    4 20.09062      21.5
9  22.8    4 20.09062      21.5
10 19.2    4 20.09062      21.5
11 17.8    4 20.09062      21.5
12 16.4    3 20.09062       8.0
13 17.3    3 20.09062       8.0
14 15.2    3 20.09062       8.0
15 10.4    3 20.09062       8.0
16 10.4    3 20.09062       8.0
17 14.7    3 20.09062       8.0
18 32.4    4 20.09062      21.5
19 30.4    4 20.09062      21.5
20 33.9    4 20.09062      21.5
21 21.5    3 20.09062       8.0
22 15.5    3 20.09062       8.0
23 15.2    3 20.09062       8.0
24 13.3    3 20.09062       8.0
25 19.2    3 20.09062       8.0
26 27.3    4 20.09062      21.5
27 26.0    5 20.09062      30.0
28 30.4    5 20.09062      30.0
29 15.8    5 20.09062      30.0
30 19.7    5 20.09062      30.0
31 15.0    5 20.09062      30.0
32 21.4    4 20.09062      21.5

3. Identify gear wise top 3 cars in terms of :
•hp
•wt
•disp
•drat
•mpg

DT<-data.table(mtcars[,c("hp","wt","disp","drat","mpg",key="gear")])
DT[order(-hp,-wt,-disp,-drat,-mpg),head(.SD,3),by=.(gear)]

gear  hp    wt  disp drat  mpg
1:    5 335 3.570 301.0 3.54 15.0
2:    5 264 3.170 351.0 4.22 15.8
3:    5 175 2.770 145.0 3.62 19.7
4:    3 245 3.840 350.0 3.73 13.3
5:    3 245 3.570 360.0 3.21 14.3
6:    3 230 5.345 440.0 3.23 14.7
7:    4 123 3.440 167.6 3.92 19.2
8:    4 123 3.440 167.6 3.92 17.8
9:    4 110 2.875 160.0 3.90 21.0